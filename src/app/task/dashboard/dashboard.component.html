<h2 class="table-title">Dashboard</h2>
<div class="container mt-5">
  <div class="row mt-4 justify-content-end">
    <!-- Date Range Picker -->
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Filter By Date Range</mat-label>
        <mat-date-range-input [rangePicker]="dateRangePicker" [(ngModel)]="dateRange" >
          <input matStartDate placeholder="Start date" (focus)="openDatePicker()" (dateChange)="filterTasksByDateRange($event, 'start')" >
          <input matEndDate placeholder="End date" (focus)="openDatePicker()" (dateChange)="filterTasksByDateRange($event, 'end')">
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="dateRangePicker"></mat-datepicker-toggle>
        <mat-date-range-picker #dateRangePicker></mat-date-range-picker>
      </mat-form-field>
    </div>


  </div>
  <div class="row">
    <!-- Task Summary Cards -->
    <div class="col-md-3" *ngFor="let card of taskSummary">
      <mat-card class="task-card mb-3" [ngClass]="card.bgColor">
        <mat-card-content>
          <h5 class="mat-card-title mb-3">{{ card.title }}</h5>
          <p class="mat-card-subtitle">{{ card.count }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>


  <!-- Task List -->

  <!-- Commented for now , can be implemented as an add on -->

  <!-- <div class="row mt-4">
    <div class="col-md-12">
      <div *ngIf="filteredTasks.length === 0">
        <mat-card class="no-tasks-card">
          <mat-card-content>
            <p class="no-tasks-message">No results to display</p>
          </mat-card-content>
        </mat-card>
      </div>

      <table mat-table *ngIf="filteredTasks.length > 0" [dataSource]="filteredTasks" class="mat-elevation-z8">
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef> Task </th>
          <td mat-cell *matCellDef="let task">
            <span matTooltip="{{task.title}}">{{task.title}}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let task">
            <span matTooltip="{{task.status}}">{{task.status}}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Description </th>
          <td mat-cell *matCellDef="let task" class="overflow-ellipsis">
            <span matTooltip="{{task.description}}">
              {{ task.description.length > 50 ? (task.description | slice: 0:50) + '...' : task.description }}
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="dueDate">
          <th mat-header-cell *matHeaderCellDef> Due Date </th>
          <td mat-cell *matCellDef="let task">
            <span matTooltip="{{task.dueDate | date: 'MM/dd/yyyy'}}">{{task.dueDate | date: 'MM/dd/yyyy'}}</span>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div> -->

</div>
